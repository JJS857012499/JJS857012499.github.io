---
title: 河内塔
date: 2017-04-06 22:28:47
category: 算法
tags: [河内塔,汉诺塔]
---
## 背景：
　　河内之塔(Towers of Hanoi)是法国人M.Claus(Lucas)于1883年从泰国带至法国的，河内为越战时北越的首都，即现在的胡志明市；1883年法国数学家 Edouard Lucas曾提及这个故事，据说创世纪时Benares有一座波罗教塔，是由三支钻石棒（Pag）所支撑，开始时神在第一根棒上放置64个由上至下依由小 至大排列的金盘（Disc），并命令僧侣将所有的金盘从第一根石棒移至第三根石棒，且搬运过程中遵守大盘子在小盘子之下的原则，若每日仅搬一个盘子，则当 盘子全数搬运完毕之时，此塔将毁损，而也就是世界末日来临之时。
<!--more-->
## 解法：
　　如果柱子标为ABC，要由A搬至C，在只有一个盘子时，就将它直接搬至C，当有两个盘子，就将B当作辅助柱。
![logo](hanoi-1.jpg)![logo](hanoi-2.jpg)![logo](hanoi-3.jpg)
　　如果盘数超过2个，将第三个以下的盘子遮起来，就很简单了，每次处理两个盘子，也就是：A->B、A ->C、B->C这三个步骤，而被遮住的部份，其实就是进入程式的递回处理。
![logo](hanoi-4.jpg)
事实上，若有n个盘子，则移动完毕所需之次数为2^n - 1，所以当盘数为64时，则所需次数为：
2^64 - 1 = 18446744073709551615
为5.05390248594782e+16年，也就是约5000世纪，如果对这数字没什么概念，就假设每秒钟搬一个盘子好了，也要约5850亿年左右。

## java代码实现
```java
public class Hanoi {

    public static void main(String[] args){
        new Hanoi().move(64,"A","B","C");
    }

    /**
     * 移动一步
     * @param n 第n层的盘子
     * @param a a柱子（盘子所在位置）
     * @param b b柱子（临时的位置）
     * @param c c柱子（盘子最终的目的地）
     */
    public void move(int n, String a, String b, String c){
        if(n == 1){
            System.out.println(n + "由" + a + "移动到" + c);
        }else{
            move(n-1,a,c,b);
            System.out.println(n + "由" + a + "移动到" + c);
            move(n-1,b,a,c);
        }
    }

}
```
