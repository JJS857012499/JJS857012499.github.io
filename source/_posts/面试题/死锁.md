---
title: 死锁
date: 2018-08-14 14:33:48
category: 面试题
tags: [死锁,面试题]
---
## 死锁
### 解决方案：加入调试语句，发现问题。

### 发生的条件：
#### 互斥
当多个线程需要使用同一资源，且这些资源满足下列条件时，互斥就会发生。
* 无法在同一时间为多个线程所用
* 数量上有限制
这种资源的常见例子是数据库连接、打开后用于写入的文件、记录锁或是信号量。

#### 上锁及等待
当某个线程获得某个资源，在获得其他所需资源并完成工作之前，不会释放该资源

#### 无抢先机制
线程无法从其他线程夺取资源。一个线程持有资源时，其他线程获取这个资源的唯一手段就是等待该线程释放资源。

#### 循环等待
这也被称做“死命拥抱”。详细两个线程T1,T2,两个资源R1,R2。T1拥有R1,T2拥有R2,T1需要R2,T2需要R1。
